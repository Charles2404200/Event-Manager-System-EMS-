<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.layout.Pane?>
<BorderPane xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml" fx:controller="org.ems.application.controller.ActivityLogsController" prefWidth="1400" prefHeight="900">
    <top>
        <VBox spacing="8" style="-fx-background-color: #2c3e50; -fx-padding: 16;">
            <Label text="Activity Logs" style="-fx-text-fill: white; -fx-font-size: 22; -fx-font-weight: bold;"/>
            <Label text="Monitor all system activities and user actions" style="-fx-text-fill: #ecf0f1; -fx-font-size: 12;"/>
        </VBox>
    </top>
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <VBox spacing="16" style="-fx-padding: 16;">
                <HBox spacing="16">
                    <VBox spacing="4" style="-fx-border-color: #bdc3c7; -fx-border-width: 1; -fx-padding: 8;" prefWidth="200">
                        <Label text="Total Activities"/>
                        <Label fx:id="totalLogsLabel" text="0" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                    </VBox>
                    <VBox spacing="4" style="-fx-border-color: #bdc3c7; -fx-border-width: 1; -fx-padding: 8;" prefWidth="300">
                        <Label text="Last Activity"/>
                        <Label fx:id="lastActivityLabel" text="No activity" style="-fx-font-size: 14;"/>
                    </VBox>
                </HBox>
                <HBox spacing="10" style="-fx-border-color: #cccccc; -fx-border-width: 1; -fx-padding: 15; -fx-border-radius: 5;">
                    <Label text="Search:" style="-fx-font-size: 12;"/>
                    <TextField fx:id="searchField" promptText="Search by user ID, action, or resource" prefWidth="300"/>
                    <Button text="Search" onAction="#onSearch" style="-fx-padding: 8;"/>
                    <Label text="Filter:" style="-fx-font-size: 12;"/>
                    <ComboBox fx:id="actionFilterCombo" prefWidth="150" style="-fx-padding: 8;"/>
                    <Button text="Apply Filter" onAction="#onFilterByAction" style="-fx-padding: 8;"/>
                    <Pane HBox.hgrow="ALWAYS"/>
                    <Button text="Export" onAction="#onExportLogs" style="-fx-padding: 8; -fx-background-color: #27ae60; -fx-text-fill: white;"/>
                    <Button text="Clear Logs" onAction="#onClearLogs" style="-fx-padding: 8; -fx-background-color: #e74c3c; -fx-text-fill: white;"/>
                </HBox>
                <VBox spacing="8">
                    <Label text="Activity Log Details" style="-fx-font-size: 12; -fx-font-weight: bold;"/>
                    <TableView fx:id="logsTable" prefHeight="500">
                        <columns>
                            <TableColumn text="Timestamp" prefWidth="180"/>
                            <TableColumn text="User ID" prefWidth="120"/>
                            <TableColumn text="Action" prefWidth="100"/>
                            <TableColumn text="Resource" prefWidth="120"/>
                            <TableColumn text="Description" prefWidth="250"/>
                        </columns>
                    </TableView>
                    <HBox spacing="10" style="-fx-padding: 5 0 0 0;">
                        <Label fx:id="pageLabel" text="Page 1 / 1" style="-fx-font-size: 11; -fx-text-fill: #666;"/>
                        <Pane HBox.hgrow="ALWAYS"/>
                        <Button text="Prev" onAction="#onPrevPage"/>
                        <Button text="Next" onAction="#onNextPage"/>
                    </HBox>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
    <bottom>
        <HBox spacing="8" style="-fx-padding: 8;">
            <Button text="Back to Dashboard" onAction="#onBack" style="-fx-padding: 8;"/>
        </HBox>
    </bottom>
</BorderPane>

